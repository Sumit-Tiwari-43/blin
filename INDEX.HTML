<!DOCTYPE html>
<html>
<head>
    <title>SUMIT VASTRALAYA</title>
    <style>
        :root {
            --primary-color: #5d6770;
            --secondary-color: #f8f9fa;
            --accent-color: #e83e8c;
            --text-color: #333;
            --border-color: #ddd;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: #f5f5f5;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }
        
        header {
            background-color: var(--primary-color);
            color: black;
            padding: 20px;
            text-align: center;
        }
        
        header h1 {
            font-size: 28px;
            margin-bottom: 5px;
        }
        
        .shop-info {
            font-size: 14px;
            margin-bottom: 10px;
        }
        
        .bill-section {
            padding: 20px;
        }
        
        .customer-info {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
            padding: 15px;
            background-color: var(--secondary-color);
            border-radius: 5px;
        }
        
        .customer-info label {
            display: flex;
            flex-direction: column;
            font-weight: 500;
        }
        
        .customer-info input, 
        .customer-info select {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            margin-top: 5px;
        }
        
        .bill-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        
        .bill-table th {
            background-color: var(--primary-color);
            color: white;
            padding: 12px;
            text-align: left;
        }
        
        .bill-table td {
            padding: 10px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .bill-table tr:nth-child(even) {
            background-color: var(--secondary-color);
        }
        
        .bill-table tr:hover {
            background-color: #e9ecef;
        }
        
        .product-select {
            width: 100%;
            padding: 8px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
        }
        
        .qty-input, .price-input {
            width: 70px;
            padding: 8px;
            text-align: center;
            border: 1px solid var(--border-color);
            border-radius: 4px;
        }
        
        .action-btn {
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.3s;
        }
        
        .action-btn:hover {
            background-color: #d62a72;
        }
        
        .btn-danger {
            background-color: #dc3545;
        }
        
        .btn-danger:hover {
            background-color: #c82333;
        }
        
        .summary-section {
            display: flex;
            justify-content: flex-end;
            margin-top: 20px;
        }
        
        .summary-card {
            width: 300px;
            padding: 20px;
            background-color: var(--secondary-color);
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .summary-label {
            font-weight: 500;
        }
        
        .summary-value {
            font-weight: 600;
        }
        
        .total-row {
            border-top: 1px solid var(--border-color);
            padding-top: 10px;
            margin-top: 10px;
            font-size: 18px;
        }
        
        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            justify-content: flex-end;
        }
        
        .btn-large {
            padding: 10px 25px;
            font-size: 16px;
        }
        
        @media print {
            .no-print {
                display: none;
            }
            
            body {
                background: none;
                padding: 0;
            }
            
            .container {
                box-shadow: none;
            }
        }
        
        @media (max-width: 768px) {
            .customer-info {
                flex-direction: column;
            }
            
            .bill-table {
                font-size: 14px;
            }
            
            .summary-card {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>SUMIT VASTRALAYA </h1>
            <div class="shop-info">
                J.K.R.M TOWER,VAISHALI | Phone: +91- 8235713430| 
            </div>
            <div class="shop-info">
                GSTIN: 22ABCDE1234F1Z2
            </div>
        </header>
        
        <div class="bill-section">
            <div class="customer-info">
                <label>
                    Invoice Number
                    <input type="text" id="invoiceNo" value="INV-2023-001" readonly>
                </label>
                <label>
                    Date
                    <input type="date" id="billDate">
                </label>
                <label>
                    Customer Name
                    <input type="text" id="customerName" placeholder="Walk-in Customer">
                </label>
                <label>
                    Contact Number
                    <input type="text" id="customerPhone" placeholder="+91 ">
                </label>
            </div>
            
            <table class="bill-table">
                <thead>
                    <tr>
                        <th width="25%">Product</th>
                        <th width="15%">Size</th>
                        <th width="15%">Color</th>
                        <th width="15%">Price</th>
                        <th width="10%">Qty</th>
                        <th width="15%">Total</th>
                        <th width="10%">Action</th>
                    </tr>
                </thead>
                <tbody id="billItems">
                    <!-- Items will be added here -->
                </tbody>
            </table>
            
            <div class="no-print">
                <button class="action-btn" onclick="addRow()">+ Add Item</button>
            </div>
            
            <div class="summary-section">
                <div class="summary-card">
                    <div class="summary-row">
                        <span class="summary-label">Subtotal:</span>
                        <span class="summary-value">₹<span id="grandTotal">0.00</span></span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">Discount:</span>
                        <span class="summary-value">-₹<input type="number" id="discount" value="0" min="0" style="width: 70px; padding: 3px;" onchange="calculateTotal()"></span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">Tax (5%):</span>
                        <span class="summary-value">₹<span id="taxAmount">0.00</span></span>
                    </div>
                    <div class="summary-row total-row">
                        <span class="summary-label">Total Payable:</span>
                        <span class="summary-value">₹<span id="amountPayable">0.00</span></span>
                    </div>
                    
                    <div class="button-group no-print">
                        <button class="action-btn btn-danger" onclick="clearBill()">Clear</button>
                        <button class="action-btn btn-large" onclick="printBill()">Print Bill</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Sample product database for clothing shop
        const products = [
            { id: 1, name: "Men's Formal Shirt", size: ["S","M","L","XL","XXL"], color: ["White","Blue","Black","Gray"], price: 1299 },
            { id: 2, name: "Women's Kurti", size: ["S","M","L","XL"], color: ["Red","Blue","Green","Yellow","Black"], price: 899 },
            { id: 3, name: "Kids T-Shirt", size: ["2-3Y","4-5Y","6-7Y","8-9Y"], color: ["Red","Blue","Pink","White"], price: 499 },
            { id: 4, name: "Jeans (Men)", size: [28,30,32,34,36,38], color: ["Blue","Black","Gray"], price: 1599 },
            { id: 5, name: "Saree", size: ["Free Size"], color: ["Red","Blue","Green","Purple","Pink"], price: 1999 },
            { id: 6, name: "Jacket", size: ["S","M","L","XL"], color: ["Black","Brown","Navy"], price: 2499 },
            { id: 6, name: "Man sort paint", size: ["S","M","L","XL"], color: ["Black","Brown","Navy"], price: 2499 }

        ];
        
        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Set today's date as default
            const today = new Date();
            document.getElementById('billDate').valueAsDate = today;
            
            // Add first row automatically
            addRow();
        });
        
        // Add new row to bill table
        function addRow() {
            const tbody = document.getElementById("billItems");
            const row = document.createElement("tr");
            
            // Product dropdown
            const productCell = document.createElement("td");
            const productSelect = document.createElement("select");
            productSelect.className = "product-select";
            productSelect.onchange = function() { updateRow(this); };
            
            // Add empty option first
            const emptyOption = document.createElement("option");
            emptyOption.value = "";
            emptyOption.textContent = "Select Product";
            productSelect.appendChild(emptyOption);
            
            // Add product options
            products.forEach(product => {
                const option = document.createElement("option");
                option.value = product.id;
                option.textContent = product.name;
                productSelect.appendChild(option);
            });
            
            productCell.appendChild(productSelect);
            row.appendChild(productCell);
            
            // Size dropdown
            const sizeCell = document.createElement("td");
            const sizeSelect = document.createElement("select");
            sizeSelect.className = "product-select";
            sizeSelect.onchange = function() { updateRow(this); };
            sizeCell.appendChild(sizeSelect);
            row.appendChild(sizeCell);
            
            // Color dropdown
            const colorCell = document.createElement("td");
            const colorSelect = document.createElement("select");
            colorSelect.className = "product-select";
            colorSelect.onchange = function() { updateRow(this); };
            colorCell.appendChild(colorSelect);
            row.appendChild(colorCell);
            
            // Price (now editable)
            const priceCell = document.createElement("td");
            const priceInput = document.createElement("input");
            priceInput.type = "number";
            priceInput.className = "price-input";
            priceInput.value = "0";
            priceInput.min = "0";
            priceInput.step = "1";
            priceInput.onchange = function() { calculateRowTotal(this.closest("tr")); };
            priceCell.appendChild(priceInput);
            row.appendChild(priceCell);
            
            // Quantity
            const qtyCell = document.createElement("td");
            const qtyInput = document.createElement("input");
            qtyInput.type = "number";
            qtyInput.className = "qty-input";
            qtyInput.value = "1";
            qtyInput.min = "1";
            qtyInput.onchange = function() { calculateRowTotal(this.closest("tr")); };
            qtyCell.appendChild(qtyInput);
            row.appendChild(qtyCell);
            
            // Total
            const totalCell = document.createElement("td");
            totalCell.className = "total";
            totalCell.textContent = "0.00";
            row.appendChild(totalCell);
            
            // Remove button
            const actionCell = document.createElement("td");
            const removeBtn = document.createElement("button");
            removeBtn.textContent = "Remove";
            removeBtn.className = "action-btn btn-danger";
            removeBtn.onclick = function() { 
                tbody.removeChild(row);
                calculateTotal(); 
            };
            actionCell.appendChild(removeBtn);
            row.appendChild(actionCell);
            
            tbody.appendChild(row);
        }
        
        // Update row when product/size/color changes
        function updateRow(element) {
            const row = element.closest("tr");
            const productId = row.querySelector("select").value;
            
            if (!productId) return;
            
            const product = products.find(p => p.id == productId);
            
            // Update size dropdown
            const sizeSelect = row.querySelector("td:nth-child(2) select");
            updateDropdown(sizeSelect, product.size);
            
            // Update color dropdown
            const colorSelect = row.querySelector("td:nth-child(3) select");
            updateDropdown(colorSelect, product.color);
            
            // Update price field with product's default price (but remains editable)
            const priceInput = row.querySelector(".price-input");
            priceInput.value = product.price;
            
            // Calculate row total
            calculateRowTotal(row);
        }
        
        // Update dropdown options
        function updateDropdown(select, options) {
            const currentValue = select.value;
            select.innerHTML = "";
            
            options.forEach(option => {
                const opt = document.createElement("option");
                opt.value = option;
                opt.textContent = option;
                select.appendChild(opt);
            });
            
            // Restore previous selection if still available
            if (options.includes(currentValue)) {
                select.value = currentValue;
            }
        }
        
        // Calculate total for a row
        function calculateRowTotal(row) {
            const priceInput = row.querySelector(".price-input");
            const qtyInput = row.querySelector(".qty-input");
            
            const price = parseFloat(priceInput.value) || 0;
            const qty = parseInt(qtyInput.value) || 0;
            const total = price * qty;
            
            row.querySelector(".total").textContent = total.toFixed(2);
            calculateTotal();
        }
        
        // Calculate grand total
        function calculateTotal() {
            let subtotal = 0;
            document.querySelectorAll(".total").forEach(cell => {
                subtotal += parseFloat(cell.textContent);
            });
            
            const discount = parseFloat(document.getElementById("discount").value) || 0;
            const taxPercent = 5; // You can make this configurable
            const taxableAmount = subtotal - discount;
            const tax = taxableAmount * (taxPercent / 100);
            const payable = taxableAmount + tax;
            
            document.getElementById("grandTotal").textContent = subtotal.toFixed(2);
            document.getElementById("taxAmount").textContent = tax.toFixed(2);
            document.getElementById("amountPayable").textContent = payable.toFixed(2);
        }
        
        // Print bill
        function printBill() {
            calculateTotal();
            window.print();
        }
        
        // Clear the current bill
        function clearBill() {
            if (confirm("Are you sure you want to clear this bill?")) {
                document.getElementById("billItems").innerHTML = "";
                document.getElementById("customerName").value = "Walk-in Customer";
                document.getElementById("customerPhone").value = "";
                document.getElementById("discount").value = "0";
                addRow();
                calculateTotal();
            }
        }
    </script>
</body>
</html>